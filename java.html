<!DOCTYPE html>
<html>
<body>

  <input type="file" id="videoFile">
  <button onclick="generateM3U8()">M3U8 Olu≈ütur</button>

  <script>
    function generateM3U8() {
      const videoFile = document.getElementById("videoFile").files[0];
      const video = document.createElement('video');
      video.src = URL.createObjectURL(videoFile);
      video.addEventListener('loadedmetadata', function() {
        const duration = video.duration;
        const segmentDuration = duration / 2;
        const segments = [
          {
            url: 'segment1.ts',
            duration: segmentDuration
          },
          {
            url: 'segment2.ts',
            duration: segmentDuration
          }
        ];
        const m3u8Content = generateM3U8Content(segments);
        downloadM3U8(m3u8Content);
      });
    }

    function generateM3U8Content(segments) {
      let m3u8Content = '#EXTM3U\n';
      let segmentIndex = 0;
      segments.forEach(segment => {
        segmentIndex++;
        m3u8Content += '#EXTINF:' + segment.duration + ',\n';
        m3u8Content += 'segment' + segmentIndex + '.ts\n';
      });
      return m3u8Content;
    }

    function downloadM3U8(content) {
      const blob = new Blob([content], {type: 'application/vnd.apple.mpegurl'});
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url;
      a.download = 'video.m3u8';
      a.click();
    }
  </script>

</body>
</html>
